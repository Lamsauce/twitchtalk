{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}

<div class="container">
<h2 class="page-content-header">Thread</h2>

<div class="card">
  <div class="card-content">
    <span class="thread-user">{{thread.user}} posted:</span>
    <h1><a class="post-title" href="{% url 'thread' thread.id %}"class="card-title">{{ thread.title }}</a></h1>
    <p class="post-description">{{ thread.description }}</p>
    <a class="game-category" href="{% url 'showgame' thread.game.id %}">{{ thread.game }}</a>
    <span class="created-at">{{ thread.created_at }} PST</span>
    <a href="{% url 'editthread' thread.id %}" class="btn btn-primary">Edit</a>
    <a href="{% url 'deletethread' thread.id %}" class="btn btn-primary">Delete</a>
  </div>
</div>


<!-- ADD COMMENT -->
<div class="card-body">
  <h3>Leave a comment</h3>
  <form method="POST"> <!-- needs action -->
    {% csrf_token %}
    {{ comment_form|crispy }}
    <button type="submit" class="btn btn-primary btn-lg">Submit</button>
  </form>
</div>

<!-- COMMENTS -->
{% for comment in comments %}
  <div class="card">
      <div class="card-content">
       <p>{{ comment.user }} replied:</p>
      <p>{{ comment.body }}</p>
      <p>{{ comment.created_at }} PST</p>
      </div>
  </div>
{% endfor %}
</div>

{% endblock %}